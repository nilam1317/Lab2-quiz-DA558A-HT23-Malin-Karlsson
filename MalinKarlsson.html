<!DOCTYPE html>

<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="description" content="quiz">
	<meta name="author" content="Malin Karlsson">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Add  googlefonts -->
	<link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@500&display=swap" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300&display=swap" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css2?family=Lora:ital@1&display=swap" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css2?family=Kalam:wght@300;700&family=Ubuntu:wght@300&display=swap" rel="stylesheet" type="text/css">
	<!--html5shiv is an HTML5 JavaScript shim for IE to recognise and style the HTML5 elements-->
	<!--[if lt IE 9]> 
<script src="https://raw.githubusercontent.com/aFarkas/html5shiv/master/dist/html5shiv.min.js"></script>
 <![endif]-->


	<title>Quiz</title>


<style>
	*,
	*::before,
	*::after {
		box-sizing: border-box;
	}


	/*---Structural*/

	header,
	section,
	footer,
	aside,
	nav,
	article,
	figure,
	small,
	address,
	figcaption {
		display: block;
		margin: 0;
		padding: 0;
	}



	body,
	html {
		height: 100%;
		margin: 0;
		font-family: Arial, Helvetica, sans-serif;
	}

	/* The hero image */
	.hero-image {
		/* Use "linear-gradient" to add a darken background effect to the image This will make the text easier to read */
		/*background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("images/flygplan.jpg.jpg");*/
		background-image: url("images/flygplan.jpg.jpg");
		/* Set a specific height */
		height: 50%;

		/* Position and center the image to scale nicely on all screens */
		background-position: center;
		background-repeat: no-repeat;
		background-size: cover;
		position: relative;
	}

	/* Place text in the middle of the image */
	.hero-text {
		text-align: center;
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);

	}




	main {
		width: 100%;
	}

	.flex-container {

		display: flex;
		width: 100%;
		align-items: stretch;
		/* flex-flow: row wrap; */
		flex-direction: row;
		flex-wrap: wrap;

		justify-content: center;

		background-color: #bbdefb;
		height: 100%;
		padding: 15px;
		gap: 5px;

	}

	.flex-container>div {

		background: #ffecb3;
		border: 3px solid #ffcc80;
		border-radius: 5px;
		padding: 8px;
		align-self: auto;
	}


	.item1 {
		/* flex:0 1 auto; */
		align-self: auto;
		width: 800px;
	}

	.item2 {

		align-self: auto;
		width: 300px;
	}


	.hero-text h1 {
		font-size: 5em;
		color: darkblue;
	}


	.hero-text p {
		font-size: 3em;
		color: darkslateblue;
	}

	/* On screens that are 600px or less, set the background color to olive */
	@media screen and (max-width: 1300px) {
		.hero-text h1 {
			font-size: 3em;


		}

		.hero-text p {
			font-size: 2em;

		}



		.hero-image {

			height: 30%;


		}
	}


	/* On screens that are 600px or less, set the background color to olive */
	@media screen and (max-width: 999px) {
		.hero-text h1 {
			font-size: 2em;


		}

		.hero-text p {
			font-size: 1em;

		}


		.hero-image {

			height: 25%;


		}



	}


	/*-- form*/

	#form_div {
		width: 790px;
		padding: 10px;
		text-align: center;

	}

	#registerForm {
		background-color: #ffecb3;
	}

	form {
		width: 760px;
		text-align: left;
	}
    
    form p{
		font-family: 'Lora', serif;
		font-size: 0.7em;
		font-weight: 400;
        margin:0px;
        padding:0px;
        color:darkred;
	}


	input,
	textarea {
		font-family: 'Lora', serif;
		font-size: 0.8em;
		font-weight: 400;
		color: #333;

	}

	input:focus,
	textarea:focus {
		background-color: #e3f6f9;


	}



	input:hover,
	textarea:hover {
		background-color: #f8f9e4;


	}

	legend,
	.legend {
		font-family: 'Lora', serif;
		font-size: 1em;
		font-weight: 400;
		padding: 20px 0 20px 0;
		color: #333;
		width: 100%;
		text-align: center;
		margin: 0 auto;

	}

	.legend {

		font-size: 1em;


	}

	input {
		margin-top: 10px;
	}

	#contact_ p,
	#contact_ h2,
	#contact_form h2,
	#contact_form h4,
	#contact_form h5,
	#contact_form h6 ul {
		margin: 0;
	}

	ul {
		padding-left: 0;
		margin-bottom: 0;
	}



	fieldset {
		width: 100%;
		padding: 0;
		margin: 0;
		border: none;

	}

	.form_column {
		display: flex;

	}

	.form_column .form-contact {
		width: 50%;


	}

	.form_column .form-contact:first-child {
		margin-right: 40px;
	}


	.form-contact {
		margin-bottom: 17px;
	}

	label {
		font-family: 'Lora', serif;
		font-size: 0.8em;
		font-weight: 400;
	}

	.form-control {
		border: 1px solid #ccc;
		display: block;
		width: 100%;
		height: 40px;
		padding: 0 20px;
		border-radius: 20px;
	}





	input[type=text],
	select,
	textarea {


		border: 1px solid #ccc;
		border-radius: 20px;
		margin-top: 5px;
		margin-bottom: 5px;
		resize: vertical;
		cursor: pointer;
		color: #333;
		width: 100%;
		padding: 5px;
	}





	input[type=text],
	select {
		font-size: 0.7em;
		text-decoration: none;
		font-family: Arial, Helvetica, sans-serif;
		/* font-family: 'Ubuntu', sans-serif;*/
		letter-spacing: 1px;
		text-transform: uppercase;
		margin-bottom: 5px;

	}



	textarea {
		width: 100%;
		padding: 12px;
		border: 1px solid #ccc;
		border-radius: 20px;
		margin-top: 12px;
		/* Add a top margin */
		margin-bottom: 16px;
		/* Bottom margin */
		resize: vertical
			/* Allow the user to vertically resize the textarea (not horizontally) */
	}

	/*The container for radio bbuttons */
	.radiobuttons {

		font-size: 0.9em;
		text-align: left;
		display: block;
		position: relative;
		padding-left: 30px;
		margin: 15px 0;
		cursor: pointer;
		user-select: none;
	}

	/* Hide the browser's default radio button */
	.radiobuttons input {
		position: absolute;
		opacity: 0;
		cursor: pointer;
	}

	/* Create a custom radio button */
	.checkmark {
		position: absolute;
		top: 0;
		left: 0;
		height: 25px;
		width: 25px;
		background-color: #eee;
		border-radius: 50%;
	}

	/* On mouse-over, add a grey background color */
	.radiobuttons:hover input~.checkmark {
		background-color: #ccc;
	}

	/* When the radio button is checked, add a blue background */
	.radiobuttons input:checked~.checkmark {
		background-color: #2196F3;
	}

	/* Create the indicator (the dot/circle - hidden when not checked) */
	.checkmark:after {
		content: "";
		position: absolute;
		display: none;
	}

	/* Show the indicator (dot/circle) when checked */
	.radiobuttons input:checked~.checkmark:after {
		display: block;
	}

	/* Style the indicator (dot/circle) */
	.radiobuttons .checkmark:after {
		top: 9px;
		left: 9px;
		width: 8px;
		height: 8px;
		border-radius: 50%;
		background: white;
	}

	.container_radiobuttons {
		border: 1px solid #ccc;
		border-radius: 20px;
	}



	/*--send_button---*/
	button,
	.button_link {
		border: none;
		padding: 0 20px;
		text-decoration: none;
		width: auto;
		height: 40px;
		margin: 29px auto;
		cursor: pointer;
		display: flex;
		align-items: center;
		justify-content: center;
		overflow: hidden;
		/*orig color*/
		background: #87a19c;
		color: #fff;
		border-radius: 15px;
		transform: perspective(1px) translateZ(0);
		position: relative;
		transition-property: color;
		transition-duration: 0.5s;
		font-size: 1em;
		text-decoration: none;
		font-family: 'Trebuchet MS', sans-serif;
		text-transform: uppercase;
		letter-spacing: .1rem;
	}

	button:before,
	.button_link:before {
		content: "";
		position: absolute;
		z-index: -1;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		/* color of moving part*/
		background: #738c87;
		transform: scaleX(0);
		transform-origin: 0 50%;
		transition-property: transform;
		transition-duration: 0.5s;
		transition-timing-function: ease-out;
	}

	button:hover:before,
	.button_link:hover:before {
		color: #80e1f2;
		transform: scaleX(1);
		transition-timing-function: cubic-bezier(0.52, 1.64, 0.37, 0.66);
		transition: all .1s ease;
		background: rgba(111, 255, 233, 0.9);


	}





	#error {
		background-color: crimson;
		border: 6px solid red;
		color: white;
		padding: 20px;
		width: 660px;
		margin: 0 50px;

	}
</style>
</head>
<body>
	<header class="hero-image">
		<div class="hero-text">
			<h1>Travel Quiz</h1>
			<p>Test Your Wanderlust:<br>Take the Ultimate Travel Quiz!</p>

		</div>

		<nav>


		</nav>

	</header>
	<main>
		<div class="flex-container">

			<div class="item1">
				<div id="form_div">

					<form  id="registerForm">
						<fieldset>
							<legend>Please register to take the quiz</legend>
							<div class="form_column">
                                <div class="form-contact"><p>*Required Fields</p>
									<label for="firstName">First Name</label>
									<input id="firstName" name="firstName" type="text" class="form-control" required>
									<p>* A-Ö a-ö `´  allowed</p>
								</div>
								<div class="form-contact">
									<label for="lastName">Last Name</label>
									<input id="lastName" name="lastName" type="text" class="form-control" required>
									<p>* * A-Ö a-ö `´  allowed</p>
								</div>
							</div>
							<div class="form-contact">
								<label for="phoneNumber">Phone number</label>
								<input id="phoneNumber" name="phoneNumber" type="text" class="form-control" required>
								<p>* Please enter only digits 0-9</p>
							</div>
							<div class="form-contact">
								<label for="email">Email</label>
								<input id="email" name="email" type="text" class="form-control" required>
								<p>* Please enter a valid email address</p>
							</div>
							<button>Register</button>
						</fieldset>
					</form>
					<span id="error" style="display:none;"></span>
				</div>
			</div>

			<div class="item2">

				<!--read what is stoared in localStorage-->

				<button onclick="readValue()">Get the item value</button>





				<p>Saved name is: </p>
				<p id="demo"></p>



				<script>
					//crate a variable
					let registerFormData = document.getElementById("registerForm")

					//eventlistner to trigger functions
					registerFormData.addEventListener('submit', (e) => {
						// prevent form (action) tag from submitting/0pening the URL
						e.preventDefault()

						//call on function to validate inputs
						//checkInputs()
						//validate(firstName)

						//create variables from inputs
						let firstName = document.getElementById("firstName")
						let lastName = document.getElementById("lastName")
						let phoneNumber = document.getElementById("phoneNumber")
						let email = document.getElementById("email")
						document.getElementById("error").innerHTML = ""

						const objectToPass = {
							firstName: '' + firstName.value,
							lastName: '' + lastName.value,
							phoneNumber: '' + phoneNumber.value,
							email: '' + email.value
						}

						useRegex(objectToPass)
					})





					function useRegex(objectToPass) {


						let regex1 = /[0-9]+/
						let regex2 = /\`|\~|\!|\@|\#|\$|\%|\^|\&|\*|\(|\)|\+|\=|\[|\{|\]|\}|\||\\|\'|\<|\,|\.|\>|\?|\/|\""|\;|\:|\s/
						let regex3 = /^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g


						for (const key in objectToPass) {

							console.log(`${key}: ${objectToPass[key]}`)
							let toTest = objectToPass[key]
							console.log(key)
							if (key === 'email') {


								if (!toTest.match(regex3)) {
									document.getElementById("error").style.display = "block"
									document.getElementById("error").innerHTML = '" ' + toTest + '" is not a valid email'
									break;
								}

							} else if (key === 'phoneNumber') {

								if (!toTest.match(regex1)) {
									document.getElementById("error").style.display = "block"

									document.getElementById("error").innerHTML = 'You entered "' + toTest + '" in a field where only numbers are allowed'
									break
								}

							} else {

								if (toTest.match(regex1)) {
									document.getElementById("error").style.display = "block"

									document.getElementById("error").innerHTML = 'You entered "' + toTest + '" in a field where no numbers are allowed'
									break
								} else if (toTest.match(regex2)) {
									document.getElementById("error").style.display = "block"

									document.getElementById("error").innerHTML = 'You entered "' + toTest + '" in a field where no special characters are allowed'
									break
								}


							}
						}






					}


					//function to validate inputs
					function checkInputs() {

						//create variables from inputs
						let firstName = document.getElementById("firstName")
						let lastName = document.getElementById("lastName")
						let phoneNumber = document.getElementById("phoneNumber")
						let email = document.getElementById("email")
						var letters = /^[A-Za-z]+$/




						//check that they all have a value submitted
						if (firstName.value == "" || lastName.value == "" || phoneNumber.value == "" || email.value == "") {
							alert("Ensure you input a value in all fields!")
						} else if ((email.value.indexOf('@') === -1) ||
							(email.value.indexOf('.') === -1)) {
							alert('Please Enter A Valid Email Address')
							event.preventDefault()
						}



						//check that they all have a value submitted
						else {
							//if everything validates ok go on to the following function(s)

							storeUserInfo()



							//send a message to console log
							console.log(
								`This form has a firstName of ${firstName.value} and lastName of ${lastName.value}and phoneNumber of ${email.value}and email of ${phoneNumber.value}`)

							//then empty the inputs
							firstName.value = ""
							lastName.value = ""
							phoneNumber.value =
								email.value = ""

						}



					}





					function storeUserInfo() {

						//Get the element where the event occurred ie FORM
						const myFormData = new FormData(event.target)

						//Creates an object
						const registerFormDataObj = {}

						//fills the keys in the object with value
						myFormData.forEach(
							(value, key) =>
							(registerFormDataObj[key] = value)
						)

						//Stringify the object
						const myJSON = JSON.stringify(registerFormDataObj)

						//send the JSON string to console log
						console.log('min sträng' + myJSON)

						//save the string to localSTorage
						localStorage.setItem(
							"userInfo",
							myJSON
						)

						//alert user that data has been successfully stored
						alert("This form has been successfully submitted!")

					}



					//function to read what is stored
					function readValue() {




						const userInfoObject = JSON.parse(localStorage.getItem('userInfo'));

						for (const key in userInfoObject) {
							console.log(key + ': ' + userInfoObject[key]);
						}

						document.getElementById("demo").innerHTML = localStorage.getItem('userInfo')

					}






					function myFunction() {
						var x = document.createElement("FORM");
						x.setAttribute("id", "myForm");
						document.body.appendChild(x);

						var y = document.createElement("INPUT");
						y.setAttribute("type", "text");
						y.setAttribute("value", "Donald");
						document.getElementById("myForm").appendChild(y);
					}
				</script>


				<button onclick="myFunction()"> Try it </button>



			</div>

		</div>

	</main>

	<footer>


	</footer>





</body></html>
